<p-toast key="notification" position="top-right" styleClass="default"></p-toast>

<div class="container-register">
  <h1>Register</h1>

  <div class="grid">
    <p-card class="col-12">
      <div class="card-body">
        <div class="user">
          <app-user-img [email]="email"> </app-user-img>
        </div>

        <form [formGroup]="form">
          <div class="field">
            <label for="name" class="block">Name</label>
            <input
              type="text"
              pInputText
              required
              class="p-inputtext p-inputtext-md"
              formControlName="name"
              placeholder="Type your full name"
            />

            <small
              class="p-error"
              *ngIf="
                formControl['name'].touched && formControl['name'].errors?.['required']
              "
            >
              Name é obrigatório!
            </small>
          </div>

          <div class="grid p-fluid">
            <div class="col-12 md:col-6">
              <div class="field">
                <label for="gender" class="block">Gender</label>
                <p-dropdown
                  [options]="gender"
                  placeholder="Select your gender"
                  optionLabel="name"
                  optionValue="code"
                  formControlName="gender"
                ></p-dropdown>
                <small
                  class="p-error"
                  *ngIf="
                    formControl['gender'].touched &&
                    formControl['gender'].errors?.['required']
                  "
                >
                  Gender é obrigatório!
                </small>
              </div>
            </div>

            <div class="col-12 md:col-6">
              <div class="field">
                <label for="birthdate" class="block">Bithdate</label>
                <p-calendar
                  formControlName="birthdate"
                  dateFormat="dd.mm.yy"
                  [showIcon]="true"
                  inputId="icon"
                  placeholder="Select your birthdate"
                ></p-calendar>
                <small
                  class="p-error"
                  *ngIf="
                    formControl['birthdate'].touched &&
                    formControl['birthdate'].errors?.['required']
                  "
                >
                  Birthdate é obrigatório!
                </small>
              </div>
            </div>
          </div>

          <div class="grid p-fluid">
            <div class="col-12 md:col-6">
              <div class="field">
                <label for="email" class="block">E-mail</label>
                <input
                  type="email"
                  pInputText
                  required
                  class="p-inputtext p-inputtext-md"
                  formControlName="email"
                  placeholder="Type your e-mail"
                  (blur)="getAvatar($event)"
                />
                <small
                  class="p-error"
                  *ngIf="
                    formControl['email'].touched &&
                    formControl['email'].errors?.['required']
                  "
                >
                  E-mail é obrigatório!
                </small>

                <small
                  class="p-error"
                  *ngIf="
                    formControl['email'].touched && formControl['email'].errors?.['email']
                  "
                >
                  Enter a valid email address
                </small>
              </div>
            </div>

            <div class="col-12 md:col-6">
              <div class="field">
                <label for="confirmEmail" class="block">Confirm E-mail</label>
                <input
                  type="email"
                  pInputText
                  required
                  class="p-inputtext p-inputtext-md"
                  formControlName="confirmEmail"
                  placeholder="Confirm your e-mail"
                />
                <small
                  class="p-error"
                  *ngIf="
                    formControl['confirmEmail'].touched &&
                    formControl['confirmEmail'].errors?.['required']
                  "
                >
                  E-mail é obrigatório!
                </small>

                <small
                  class="p-error"
                  *ngIf="
                    formControl['confirmEmail'].touched &&
                    formControl['confirmEmail'].errors?.['emailMismatch']
                  "
                >
                  Email doesn't match
                </small>
              </div>
            </div>
          </div>

          <div class="grid p-fluid">
            <div class="col-12 md:col-6">
              <div class="field">
                <label for="password" class="block">Password</label>
                <p-password
                  [toggleMask]="true"
                  formControlName="password"
                  placeholder="Type your password"
                  styleClass="p-password p-component p-inputwrapper p-input-icon-right"
                >
                  <ng-template pTemplate="header">
                    <h6>Pick a password</h6>
                  </ng-template>
                  <ng-template pTemplate="footer">
                    <p-divider></p-divider>
                    <p class="mt-2">Password must be:</p>
                    <ul class="pl-2 ml-2 mt-0" style="line-height: 1.5">
                      <li>At least one lowercase</li>
                      <li>At least one uppercase</li>
                      <li>At least one numeric</li>
                      <li>Minimum 8 characters</li>
                    </ul>
                  </ng-template>
                </p-password>

                <small
                  class="p-error"
                  *ngIf="
                    formControl['password'].touched &&
                    formControl['password'].errors?.['required']
                  "
                >
                  Password é obrigatório!
                </small>
              </div>
            </div>

            <div class="col-12 md:col-6">
              <div class="field">
                <label for="confirmPassword" class="block"
                  >Confirm Password</label
                >

                <p-password
                  required
                  formControlName="confirmPassword"
                  placeholder="Confirm your password"
                  [feedback]="false"
                  [toggleMask]="true"
                  styleClass="p-password p-component p-inputwrapper p-input-icon-right"
                ></p-password>

                <small
                  class="p-error"
                  *ngIf="
                    formControl['confirmPassword'].touched &&
                    formControl['confirmPassword'].errors?.['required']
                  "
                >
                  Password é obrigatório!
                </small>

                <small
                  class="p-error"
                  *ngIf="
                    formControl['confirmPassword'].touched &&
                    formControl['confirmPassword'].errors?.['passwordMismatch']
                  "
                >
                  Passwords don't match
                </small>
              </div>
            </div>
          </div>

          <div class="footer">
            <p-button
              [disabled]="form.invalid"
              (onClick)="submit()"
              type="submit"
              (keydown.enter)="submit()"
              label="Sign up"
            ></p-button>
          </div>
        </form>
      </div>
    </p-card>

    <div class="logo" [routerLink]="['/']">
      <h3>Meu Vestuário</h3>
    </div>
  </div>
</div>
<app-footer></app-footer>
